<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<!--taroth 2010-07-14: thoenig found some software bugs while
 testing but doc is still valid for 11.3 :-) -->
<chapter id="cha.security.fp">
 <title>Использование сканера отпечатков пальцев</title>
 <remark>taroth 090811: according to thoenig, nobody is working on the
  fingerprint issue, therefore no changes needed (11.0 version still
  valid)</remark>
 <para>
  Если у Вам есть сканер отпечатков пальцев, Вы можете
  использовать биометрическую аутентификацию в дополнение к стандартной,  
  используя также логин и пароль. После регистрации своих отпечатков
  пальцев, пользователь может войти в систему, проведя пальцем по сканеру,
  или введя пароль. &productnamereg; поддерживает большое количество подобных сканеров.
  Список поддерживаемых устройств можно найти на
  <ulink
   url="http://reactivated.net/fprint/wiki/Supported_devices"/>.
 </para>
 <para>
  Если &productnamereg; находит сканер отпечатков пальцев, который интегрирован с
  ноутбуком (или просто подключенного к вашей системе), пакеты
  <systemitem
   class="resource">libfprint</systemitem>,
  <systemitem class="resource"
    >pam_fp</systemitem>, и
    <systemitem class="resource"
    >yast2-fingerprint-reader</systemitem>
  будут автоматически установленны.
 </para>
 <para>
  В настоящее время может быть зарегистрирован только один отпечаток пальца для
  каждого пользователя. Он хранится в 
  <filename>/home/<replaceable>login</replaceable>/.fprint/</filename>.
 </para>
 <sect1 id="sec.security.fp.supported">
  <title>Supported Applications and Actions</title>

  <para>
   PAM модуль <literal>pam_fp</literal> поддерживает аутентификации распознавания
   отпечатка пальца в следующих случаях (хотя и не во всех случаях Вам может быть
   предложено идентифицировать себя таким образом):
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Авторизация в GDM/KDM или при использовании программы login
    </para>
   </listitem>
   <listitem>
    <para>
     Блокировка экрана в GNOME/KDE
    </para>
   </listitem>
   <listitem>
    <para>
     Запуск &yast; и &yast; модулей
    </para>
   </listitem>
   <listitem>
    <para>
     Запуск приложений, которые требуют права &rootuser;:
     <command>sudo</command> или <command>gnomesu</command>
     <remark>taroth 080314:
      kdesu does not work yet according to dmuelle</remark>
<!-- or <command>kdesu</command>-->
    </para>
   </listitem>
   <listitem>
    <para>
     Вход в систему от имени другого пользователся при помощи <command>su</command> или
     <command>su <option>-</option>
     <replaceable>username</replaceable></command>
    </para>
   </listitem>
  </itemizedlist>

  <remark>taroth 081007: mdejmek, beware when proofing, the same note
   is included in yast2_userman.xml</remark>

  <note>
   <title>Устройства для считывания отпечатка пальца и шифрование домашней директории</title>
   <para>
    Если Вы хотите идентифицировать себя с помощью сканера, Вы не можете при этом использовать
    зашифрованную домашнюю директорию (см. <xref linkend="cha.y2.userman"/> для получения
    дополнительной информации). В противном случае идентифицировать себя таким образом не
    получится, т.к. до успешного окончания процесса авторизации, т.е. когда используется
    устройство считывания отпечатков пальцев, невозможно расшифровать домашнюю директорию.
   </para>
  </note>
 </sect1>
 <sect1 id="sec.security.fp.yast">
  <title>Managing Fingerprints with &yast;</title>

  <procedure>
   <title>Включение биометрической аутентификации</title>
   <para>
    Для использования биометрической аутентификации Вы должны настроить PAM.
    Как правило, это происходит автоматически во время установки системы,
    когда openSUSE обнаруживает поддерживаемый сканер. Если этого не произошло,
    Вы можете включить поддержку отпечатков пальцев в &yast; следующим образом:
   </para>
   <step>
    <para>
     Запустите &yast; и выберете <menuchoice> <guimenu>Оборудование</guimenu>
     <guimenu>Распознавание отпечатков пальцев</guimenu> </menuchoice>.
    </para>
<!--<informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2-fingerprint-reader.png" width="70%"
        format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2-fingerprint-reader.png" width="70%"
        format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>-->
   </step>
   <step>
    <para>
     In the configuration dialog, activate <guimenu>Use Fingerprint
     Reader</guimenu> and click <guimenu>Finish</guimenu> to save the
     changes and close the dialog.
    </para>
   </step>
  </procedure>

  <para>
   Now you can register a fingerprint for various users.
  </para>

<?dbfo-need height="10em"?>

  <procedure>
   <title>Registering a Fingerprint</title>
   <step>
    <para>
     In &yast;, click <menuchoice> <guimenu>Security and Users</guimenu>
     <guimenu>User Management</guimenu> </menuchoice> to open the
     <guimenu>User and Group Administration</guimenu> dialog. A list of
     users or groups in the system is displayed.
    </para>
   </step>
   <step>
    <para>
     Select the user for whom you want to register a fingerprint and click
     <guimenu>Edit</guimenu>.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Plug-Ins</guimenu> tab, select the fingerprint entry
     and click <guimenu>Launch</guimenu> to open the <guimenu>Fingerprint
     Configuration</guimenu> dialog.
    </para>
   </step>
   <step>
    <para>
     &yast; prompts the user to swipe his finger until three readable
     fingerprints have been gathered.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2-fingerprint-register.png" width="70%"
        format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2-fingerprint-register.png" width="70%"
        format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     After the fingerprint has been acquired successfully, click
     <guimenu>Accept</guimenu> to close the <guimenu>Fingerprint
     Configuration</guimenu> dialog and the dialog for the user.
    </para>
   </step>
   <step>
    <para>
     If you also want to use fingerprint authentication for starting &yast;
     or the &yast; modules, you need to register a fingerprint for
     &rootuser;, too.
    </para>
    <para>
     To do so, set the filter in the <guimenu>User and Group
     Administration</guimenu> dialog to <guimenu>System Users</guimenu>,
     select the &rootuser; entry and register a fingerprint for &rootuser;
     as described above.
    </para>
   </step>
   <step>
    <para>
     After you have registered fingerprints for the desired users, click
     <guimenu>Finish</guimenu> to close the administration dialog and to
     save the changes.
    </para>
   </step>
  </procedure>

  <para>
   As soon as the user's fingerprint has been successfully registered, the
   user can choose to authenticate with either fingerprint or password for
   the actions and applications listed in
   <xref linkend="sec.security.fp.supported"/>.
  </para>

  <para>
   Currently, &yast; does not offer verification or removal of fingerprints,
   but you remove fingerprints by deleting the directory
   <filename>/home/<replaceable>login</replaceable>/.fprint</filename>.
  </para>

  <para>
   For more technical details, refer to
   <ulink
     url="http://reactivated.net/fprint/"/>.
  </para>
 </sect1>
</chapter>
